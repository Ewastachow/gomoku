<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Board</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Board.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Board</p></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Col">Col</a><ul class="subs"><li>= <a href="#v:Black">Black</a></li><li>| <a href="#v:White">White</a></li></ul></li><li class="src short"><a href="#v:other">other</a> :: <a href="Board.html#t:Col">Col</a> -&gt; <a href="Board.html#t:Col">Col</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Position">Position</a> = (Int, Int)</li><li class="src short"><span class="keyword">data</span> <a href="#t:Board">Board</a> = <a href="#v:Board">Board</a> {<ul class="subs"><li><a href="#v:size">size</a> :: Int</li><li><a href="#v:target">target</a> :: Int</li><li><a href="#v:pieces">pieces</a> :: [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)]</li></ul>}</li><li class="src short"><a href="#v:initBoard">initBoard</a> :: Int -&gt; Int -&gt; [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)] -&gt; <a href="Board.html#t:Board">Board</a></li><li class="src short"><a href="#v:undo">undo</a> :: IO <a href="Board.html#t:World">World</a> -&gt; IO <a href="Board.html#t:World">World</a></li><li class="src short"><a href="#v:remove">remove</a> ::  [a] -&gt; Int -&gt; [a]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Button">Button</a> = <a href="#v:Button">Button</a> {<ul class="subs"><li><a href="#v:topLeft">topLeft</a> :: <a href="Board.html#t:Position">Position</a></li><li><a href="#v:botRight">botRight</a> :: <a href="Board.html#t:Position">Position</a></li><li><a href="#v:value">value</a> :: String</li><li><a href="#v:action">action</a> :: IO <a href="Board.html#t:World">World</a> -&gt; IO <a href="Board.html#t:World">World</a></li></ul>}</li><li class="src short"><a href="#v:newGame">newGame</a> :: <a href="Board.html#t:Button">Button</a></li><li class="src short"><a href="#v:undoButton">undoButton</a> :: <a href="Board.html#t:Button">Button</a></li><li class="src short"><a href="#v:savefile">savefile</a> :: [Char]</li><li class="src short"><a href="#v:saveButton">saveButton</a> :: <a href="Board.html#t:Button">Button</a></li><li class="src short"><a href="#v:save">save</a> :: IO <a href="Board.html#t:World">World</a> -&gt; IO <a href="Board.html#t:World">World</a></li><li class="src short"><a href="#v:outputPiece">outputPiece</a> :: (<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>) -&gt; IO ()</li><li class="src short"><a href="#v:loadButton">loadButton</a> :: <a href="Board.html#t:Button">Button</a></li><li class="src short"><a href="#v:load">load</a> :: IO <a href="Board.html#t:World">World</a> -&gt; IO <a href="Board.html#t:World">World</a></li><li class="src short"><a href="#v:parseSaveFile">parseSaveFile</a> :: [String] -&gt; [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)]</li><li class="src short"><a href="#v:allButtons">allButtons</a> :: [<a href="Board.html#t:Button">Button</a>]</li><li class="src short"><span class="keyword">data</span> <a href="#t:World">World</a> = <a href="#v:World">World</a> {<ul class="subs"><li><a href="#v:board">board</a> :: <a href="Board.html#t:Board">Board</a></li><li><a href="#v:turn">turn</a> :: <a href="Board.html#t:Col">Col</a></li><li><a href="#v:buttons">buttons</a> :: [<a href="Board.html#t:Button">Button</a>]</li><li><a href="#v:ais">ais</a> :: (Int, Int)</li></ul>}</li><li class="src short"><a href="#v:initWorld">initWorld</a> :: Int -&gt; Int -&gt; [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)] -&gt; <a href="Board.html#t:Col">Col</a> -&gt; (Int, Int) -&gt; IO <a href="Board.html#t:World">World</a></li><li class="src short"><a href="#v:x">x</a> ::  (a, b) -&gt; a</li><li class="src short"><a href="#v:y">y</a> ::  (a, b) -&gt; b</li><li class="src short"><a href="#v:getPieceAt">getPieceAt</a> :: [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)] -&gt; <a href="Board.html#t:Position">Position</a> -&gt; Maybe (<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)</li><li class="src short"><a href="#v:makeMove">makeMove</a> :: <a href="Board.html#t:Board">Board</a> -&gt; <a href="Board.html#t:Col">Col</a> -&gt; <a href="Board.html#t:Position">Position</a> -&gt; Maybe <a href="Board.html#t:Board">Board</a></li><li class="src short"><a href="#v:checkWon">checkWon</a> :: <a href="Board.html#t:Board">Board</a> -&gt; Maybe <a href="Board.html#t:Col">Col</a></li><li class="src short"><a href="#v:checkPieces">checkPieces</a> :: [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)] -&gt; <a href="Board.html#t:Board">Board</a> -&gt; Maybe <a href="Board.html#t:Col">Col</a></li><li class="src short"><a href="#v:countPieces">countPieces</a> :: (<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>) -&gt; [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)] -&gt; (Int, Int) -&gt; Int -&gt; <a href="Board.html#t:Col">Col</a> -&gt; Int</li><li class="src short"><a href="#v:checkPartial">checkPartial</a> :: <a href="Board.html#t:Board">Board</a> -&gt; <a href="Board.html#t:Col">Col</a> -&gt; Int -&gt; Bool</li><li class="src short"><a href="#v:evaluate">evaluate</a> :: <a href="Board.html#t:Board">Board</a> -&gt; <a href="Board.html#t:Col">Col</a> -&gt; Int</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Col" class="def">Col</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Black" class="def">Black</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:White" class="def">White</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Col" class="caption collapser" onclick="toggleSection('i:Col')">Instances</p><div id="section.i:Col" class="show"><table><tr><td class="src">Eq <a href="Board.html#t:Col">Col</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Read <a href="Board.html#t:Col">Col</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">Show <a href="Board.html#t:Col">Col</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:other" class="def">other</a> :: <a href="Board.html#t:Col">Col</a> -&gt; <a href="Board.html#t:Col">Col</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Position" class="def">Position</a> = (Int, Int)</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Board" class="def">Board</a></p><div class="doc"><p>A Board is a record containing the board size (a board is a square grid,
 |n * n), the number of pieces in a row required to win, and a list 
 |of pairs of position and the colour at that position.  So a 10x10 board 
 |for a game of 5 in a row with a black piece at 5,5 and a white piece at 8,7
 |would be represented as:</p><p>|Board 10 5 [((5, 5), Black), ((8,7), White)]</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Board" class="def">Board</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:size" class="def">size</a> :: Int</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:target" class="def">target</a> :: Int</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:pieces" class="def">pieces</a> :: [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)]</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Board" class="caption collapser" onclick="toggleSection('i:Board')">Instances</p><div id="section.i:Board" class="show"><table><tr><td class="src">Show <a href="Board.html#t:Board">Board</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:initBoard" class="def">initBoard</a> :: Int -&gt; Int -&gt; [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)] -&gt; <a href="Board.html#t:Board">Board</a></p></div><div class="top"><p class="src"><a name="v:undo" class="def">undo</a> :: IO <a href="Board.html#t:World">World</a> -&gt; IO <a href="Board.html#t:World">World</a></p><div class="doc"><p>A function that returns to the last turn of the current player
 |(so it actually undoes 2 turns)</p></div></div><div class="top"><p class="src"><a name="v:remove" class="def">remove</a> ::  [a] -&gt; Int -&gt; [a]</p><div class="doc"><p>Remove n items from the front of a list</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Button" class="def">Button</a></p><div class="doc"><p>A Button contains it's top-left and bottom-right coordinates,
 |the value that it displays and a function that changes the
 |world state.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Button" class="def">Button</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:topLeft" class="def">topLeft</a> :: <a href="Board.html#t:Position">Position</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:botRight" class="def">botRight</a> :: <a href="Board.html#t:Position">Position</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:value" class="def">value</a> :: String</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:action" class="def">action</a> :: IO <a href="Board.html#t:World">World</a> -&gt; IO <a href="Board.html#t:World">World</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:newGame" class="def">newGame</a> :: <a href="Board.html#t:Button">Button</a></p><div class="doc"><p>A Button that initiates a new world (= new game) when clicked</p></div></div><div class="top"><p class="src"><a name="v:undoButton" class="def">undoButton</a> :: <a href="Board.html#t:Button">Button</a></p><div class="doc"><p>A Button that rolls back one turn for the current player</p></div></div><div class="top"><p class="src"><a name="v:savefile" class="def">savefile</a> :: [Char]</p></div><div class="top"><p class="src"><a name="v:saveButton" class="def">saveButton</a> :: <a href="Board.html#t:Button">Button</a></p><div class="doc"><p>A button to save the game</p></div></div><div class="top"><p class="src"><a name="v:save" class="def">save</a> :: IO <a href="Board.html#t:World">World</a> -&gt; IO <a href="Board.html#t:World">World</a></p><div class="doc"><p>Save the current game state to a file</p></div></div><div class="top"><p class="src"><a name="v:outputPiece" class="def">outputPiece</a> :: (<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>) -&gt; IO ()</p></div><div class="top"><p class="src"><a name="v:loadButton" class="def">loadButton</a> :: <a href="Board.html#t:Button">Button</a></p><div class="doc"><p>A button to load the save file</p></div></div><div class="top"><p class="src"><a name="v:load" class="def">load</a> :: IO <a href="Board.html#t:World">World</a> -&gt; IO <a href="Board.html#t:World">World</a></p><div class="doc"><p>Load the current game state from a file</p></div></div><div class="top"><p class="src"><a name="v:parseSaveFile" class="def">parseSaveFile</a> :: [String] -&gt; [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)]</p><div class="doc"><p>Parse the saved file to a list of pieces</p></div></div><div class="top"><p class="src"><a name="v:allButtons" class="def">allButtons</a> :: [<a href="Board.html#t:Button">Button</a>]</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:World" class="def">World</a></p><div class="doc"><p>Overall state is the board and whose turn it is, plus any further
 |information about the world (this may later include, for example, player
 |names, timers, information about rule variants, etc)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:World" class="def">World</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:board" class="def">board</a> :: <a href="Board.html#t:Board">Board</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:turn" class="def">turn</a> :: <a href="Board.html#t:Col">Col</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:buttons" class="def">buttons</a> :: [<a href="Board.html#t:Button">Button</a>]</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:ais" class="def">ais</a> :: (Int, Int)</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><a name="v:initWorld" class="def">initWorld</a> :: Int -&gt; Int -&gt; [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)] -&gt; <a href="Board.html#t:Col">Col</a> -&gt; (Int, Int) -&gt; IO <a href="Board.html#t:World">World</a></p></div><div class="top"><p class="src"><a name="v:x" class="def">x</a> ::  (a, b) -&gt; a</p><div class="doc"><p>Semantinc function replacement</p></div></div><div class="top"><p class="src"><a name="v:y" class="def">y</a> ::  (a, b) -&gt; b</p><div class="doc"><p>Semantinc function replacement</p></div></div><div class="top"><p class="src"><a name="v:getPieceAt" class="def">getPieceAt</a> :: [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)] -&gt; <a href="Board.html#t:Position">Position</a> -&gt; Maybe (<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)</p><div class="doc"><p>Get the current piece at the given coordinates, or Nothing</p></div></div><div class="top"><p class="src"><a name="v:makeMove" class="def">makeMove</a> :: <a href="Board.html#t:Board">Board</a> -&gt; <a href="Board.html#t:Col">Col</a> -&gt; <a href="Board.html#t:Position">Position</a> -&gt; Maybe <a href="Board.html#t:Board">Board</a></p><div class="doc"><p>Play a move on the board; return <code>Nothing</code> if the move is invalid
 |(e.g. outside the range of the board, or there is a piece already there)</p></div></div><div class="top"><p class="src"><a name="v:checkWon" class="def">checkWon</a> :: <a href="Board.html#t:Board">Board</a> -&gt; Maybe <a href="Board.html#t:Col">Col</a></p><div class="doc"><p>Check whether the board is in a winning state for either player.
 |Returns <code>Nothing</code> if neither player has won yet
 |Returns 'Just c' if the player <code>c</code> has won</p></div></div><div class="top"><p class="src"><a name="v:checkPieces" class="def">checkPieces</a> :: [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)] -&gt; <a href="Board.html#t:Board">Board</a> -&gt; Maybe <a href="Board.html#t:Col">Col</a></p></div><div class="top"><p class="src"><a name="v:countPieces" class="def">countPieces</a> :: (<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>) -&gt; [(<a href="Board.html#t:Position">Position</a>, <a href="Board.html#t:Col">Col</a>)] -&gt; (Int, Int) -&gt; Int -&gt; <a href="Board.html#t:Col">Col</a> -&gt; Int</p><div class="doc"><p>Takes a piece, direction, size and colour, and counts pieces in that direction</p></div></div><div class="top"><p class="src"><a name="v:checkPartial" class="def">checkPartial</a> :: <a href="Board.html#t:Board">Board</a> -&gt; <a href="Board.html#t:Col">Col</a> -&gt; Int -&gt; Bool</p><div class="doc"><p>Check if a given player has a given amount of pieces in a row</p></div></div><div class="top"><p class="src"><a name="v:evaluate" class="def">evaluate</a> :: <a href="Board.html#t:Board">Board</a> -&gt; <a href="Board.html#t:Col">Col</a> -&gt; Int</p><div class="doc"><p>An evaluation function for a minimax search. Given a board and a colour
 |return an integer indicating how good the board is for that colour.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>